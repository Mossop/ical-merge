{
  "server": {
    "bind_address": "127.0.0.1",
    "port": 8080
  },
  "calendars": {
    "combined-work": {
      "sources": [
        {
          "url": "https://example.com/work.ics",
          "steps": [
            {
              "type": "deny",
              "patterns": ["(?i)optional"],
              "mode": "any",
              "fields": ["summary"]
            },
            {
              "type": "allow",
              "patterns": ["(?i)meeting"]
            },
            {
              "type": "replace",
              "pattern": "^Meeting:",
              "replacement": "[WORK] ",
              "field": "summary"
            },
            {
              "type": "replace",
              "pattern": "ðŸ”” ",
              "comment": "replacement defaults to empty string to remove text"
            },
            {
              "type": "replace",
              "pattern": "Building A",
              "replacement": "Main Office",
              "field": "location"
            },
            {
              "type": "strip",
              "field": "reminder"
            }
          ]
        },
        {
          "url": "https://example.com/holidays.ics",
          "comment": "webcal:// and webcals:// URLs are also supported (e.g., webcal://example.com/cal.ics)",
          "steps": []
        }
      ],
      "steps": []
    },
    "personal": {
      "sources": [
        {
          "url": "https://example.com/personal.ics",
          "steps": []
        }
      ],
      "steps": [
        {
          "type": "replace",
          "pattern": "^",
          "replacement": "[PERSONAL] ",
          "field": "summary"
        }
      ]
    },
    "everything": {
      "comment": "Calendar references allow using other calendars as sources",
      "sources": [
        {
          "calendar": "combined-work",
          "comment": "References the 'combined-work' calendar defined above",
          "steps": [
            {
              "type": "replace",
              "pattern": "^",
              "replacement": "[WORK] ",
              "field": "summary",
              "comment": "Source-level steps are applied to the referenced calendar's events"
            }
          ]
        },
        {
          "calendar": "personal",
          "comment": "References can be mixed with URL sources in the same calendar",
          "steps": []
        }
      ],
      "steps": []
    }
  }
}
